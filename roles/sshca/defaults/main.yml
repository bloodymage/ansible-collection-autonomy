---
packages:
  - openssh-client

# ==================================================================================================
#
# Files and Directories
#
# ==================================================================================================
ssh_config_dir: "/etc/ssh"
ssh_authorized_keys: "authorized_keys"
ssh_authorized_principals: "%u"

# Certificat Authority
ssh_ca_domain_list: "{{ sovereign_domain_list }}"
ssh_ca_domain: "{{ sovereign_domain }}"
ssh_ca_key_directory: "~/.ssh/ca"

# Host CA
ssh_ca_host_keyfile: "{{ ssh_ca_domain }}_host_key"
ssh_ca_host_pubfile: "{{ ssh_ca_domain }}_host_key.pub"
ssh_ca_host_certificate: "{{ ssh_config_dir }}/ca/{{ ssh_ca_host_pubfile }}"
ssh_ca_host_signer_key: "{{ ssh_ca_key_directory }}/{{ ssh_ca_host_keyfile }}"
ssh_ca_host_key_type: "ed25519"
ssh_ca_host_key_comment: "{{ ssh_ca_domain }} Host CA"
ssh_ca_host_signer_id: "{{ ssh_ca_domain }}"
ssh_ca_host_signer_hostnames: "{{ ansible_fqdn }},{{ ansible_hostname }}"

# User CA
ssh_ca_user_keyfile: "{{ ssh_ca_domain }}_user_key"
ssh_ca_user_pubfile: "{{ ssh_ca_domain }}_user_key.pub"
ssh_trusted_user_ca_key: "{{ ssh_config_dir }}/ca/{{ ssh_ca_user_pubfile }}"
ssh_ca_user_signer_key: "{{ ssh_ca_key_directory }}/{{ ssh_ca_user_keyfile }}"
ssh_ca_user_key_type: "ed25519"
ssh_ca_user_key_comment: "{{ ssh_ca_domain }} User CA"
ssh_ca_user_signer_id: "{{ ssh_ca_domain }}"
ssh_ca_user_signer_hostnames: "{{ ansible_fqdn }},{{ ansible_hostname }}"
